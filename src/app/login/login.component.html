<h1>ログイン画面</h1>

<div class="loading" *ngIf=loading>
  <mat-spinner></mat-spinner>
</div>

<form *ngIf="!loading" class="form-login" [formGroup]="loginForm" (submit)="submit()" #createForm="ngForm">
  <mat-form-field class="example-full-width" appearance="fill">
    <mat-label>username</mat-label>
    <input matInput formControlName="username" placeholder="username"/>
    <mat-error>{{ userErrorMessage(form?.username?.errors) }}</mat-error>
    <mat-hint>{{ form?.username?.value.length }}/225</mat-hint>
  </mat-form-field>
  <mat-form-field class="example-full-width" appearance="fill">
    <mat-label>password</mat-label>
    <input matInput formControlName="password" placeholder="password"/>
    <mat-error>{{ passwordErrorMessage(form?.password?.errors) }}</mat-error>
  </mat-form-field>
  <button mat-button type="submit" mat-raised-button class="btn btn-primary" (click)="onSubmit()" [disabled]="disabled()">ログイン</button>
  <div *ngIf="loading"  class="alert alert-danger mt-3 mb-0">{{ error }}</div>
  <button mat-button mat-raised-button class="btn btn-primary" color="primary" type="button">Facebookでログイン</button>
  <button mat-button mat-raised-button class="btn btn-primary" color="accent" type="button" routerLink="registor">会員登録</button>
</form>
<!-- ここまでformGroup -->
